---
marp: true
theme: default
# class: invert
html: true
paginate: true
---

![bg](assets/title_slide.png)

--- 
# <span style="color:red;">Disclaimer</span>
The following narrative is a work of pure fiction.  

Any similarities to actual people, places, or events are entirely coincidental and absolutely unrelated to the systems the speaker is responsible for.


No bugs there. Trust him.


Furthermore, the speaker denies borrowing the title from a popular animated film produced by a studio with powerful lawyers.

_This statement has been notarized by the Ministry of Totally Serious Bugs._

---

<style>
@keyframes typewriter {
  from { width: 0; }
  to { width: 100%; }
}

@keyframes blink {
  50% { border-color: transparent; }
}

.dramatic-title {
  font-family: 'Courier New', Courier, monospace;
  font-weight: bold;
  font-size: 3em;
  overflow: hidden;
  border-right: 3px solid;
  white-space: nowrap;
  margin: 0 auto;
  display: inline-block;
  animation: 
    typewriter 3s steps(20) 1s forwards,
    blink 0.75s step-end infinite;
}
</style>

<div class="dramatic-title">
ACT I: The Alert
</div>

---

<!-- _class: split -->


![bg left:60%](assets/01_office.png)

# Ant Intelligence

_Ant-ificial Intelligence 
for Financial Markets_ 

<span style="font-size: 14px;">Learn more at ai.ai</span>

---

<style>
.character-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: repeat(2, 1fr);
  gap: 20px 30px;
  height: 80vh;
  align-items: center;
  justify-items: center;
}

.character-grid img {
  width: 150px;
  height: 150px;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid #333;
}

.character-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}

.character-item h3 {
  margin-top: 10px;
  margin-bottom: 5px;
  font-size: 18px;
  font-weight: bold;
}

.character-item p {
  margin: 0;
  font-size: 14px;
  color: #666;
  font-style: italic;
}
</style>


<div class="character-grid">
  <div class="character-item">
    <img src="assets/slim.png" alt="Slim">
    <h3>Slim</h3>
    <p>L1 Support</p>
  </div>
</div>

---

![bg fit](assets/01_slack_01.png)

---

<div class="character-grid">
  <div class="character-item">
    <img src="assets/slim.png" alt="Slim">
    <h3>Slim</h3>
    <p>L1 Support</p>
  </div>
  <div class="character-item">
    <img src="assets/hopper.png" alt="Hopper">
    <h3>Hopper</h3>
    <p>Client - Goldkern Husks</p>
  </div>
</div>

---

![bg fit](assets/01_slack_02.png)

---

<div class="character-grid">
  <div class="character-item">
    <img src="assets/slim.png" alt="Slim">
    <h3>Slim</h3>
    <p>L1 Support</p>
  </div>
  <div class="character-item">
    <img src="assets/hopper.png" alt="Hopper">
    <h3>Hopper</h3>
    <p>Client - Goldkern Husks</p>
  </div>
  <div class="character-item">
    <img src="assets/dot.png" alt="Dot">
    <h3>Dot</h3>
    <p>Incident Manager</p>
  </div>
</div>

---

![bg fit](assets/01_slack_03.png)

---

<div class="character-grid">
  <div class="character-item">
    <img src="assets/slim.png" alt="Slim">
    <h3>Slim</h3>
    <p>L1 Support</p>
  </div>
  <div class="character-item">
    <img src="assets/hopper.png" alt="Hopper">
    <h3>Hopper</h3>
    <p>Client - Goldkern Husks</p>
  </div>
  <div class="character-item">
    <img src="assets/dot.png" alt="Dot">
    <h3>Dot</h3>
    <p>Incident Manager</p>
  </div>
  <div class="character-item">
    <img src="assets/atta.png" alt="Atta">
    <h3>Atta</h3>
    <p>Product Owner</p>
  </div>
  <div class="character-item">
    <img src="assets/rosie.png" alt="Rosie">
    <h3>Rosie</h3>
    <p>UI Team Lead</p>
  </div>
</div>

---

![bg fit](assets/01_slack_04.png)

---
![bg fit](assets/01_slack_05.png)


---


![bg fit](assets/01_slack_07.png)

---

<div class="character-grid">
  <div class="character-item">
    <img src="assets/slim.png" alt="Slim">
    <h3>Slim</h3>
    <p>L1 Support</p>
  </div>
  <div class="character-item">
    <img src="assets/hopper.png" alt="Hopper">
    <h3>Hopper</h3>
    <p>Client - Goldkern Husks</p>
  </div>
  <div class="character-item">
    <img src="assets/dot.png" alt="Dot">
    <h3>Dot</h3>
    <p>Incident Manager</p>
  </div>
  <div class="character-item">
    <img src="assets/atta.png" alt="Atta">
    <h3>Atta</h3>
    <p>Product Owner</p>
  </div>
  <div class="character-item">
    <img src="assets/rosie.png" alt="Rosie">
    <h3>Rosie</h3>
    <p>UI Team Lead</p>
  </div>
  <div class="character-item">
    <img src="assets/manny.png" alt="Manny">
    <h3>Manny</h3>
    <p>SRE Team</p>
  </div>
</div>

---
![bg fit](assets/01_slack_08.png)

---

![bg fit](assets/01_slack_09.png)

---

<div class="character-grid">
  <div class="character-item">
    <img src="assets/slim.png" alt="Slim">
    <h3>Slim</h3>
    <p>L1 Support</p>
  </div>
  <div class="character-item">
    <img src="assets/hopper.png" alt="Hopper">
    <h3>Hopper</h3>
    <p>Client - Goldkern Husks</p>
  </div>
  <div class="character-item">
    <img src="assets/dot.png" alt="Dot">
    <h3>Dot</h3>
    <p>Incident Manager</p>
  </div>
  <div class="character-item">
    <img src="assets/atta.png" alt="Atta">
    <h3>Atta</h3>
    <p>Product Owner</p>
  </div>
  <div class="character-item">
    <img src="assets/rosie.png" alt="Rosie">
    <h3>Rosie</h3>
    <p>UI Team Lead</p>
  </div>
  <div class="character-item">
    <img src="assets/manny.png" alt="Manny">
    <h3>Manny</h3>
    <p>SRE Team</p>
  </div>
  <div class="character-item">
    <img src="assets/heimlich.png" alt="Heimlich">
    <h3>Heimlich</h3>
    <p>Backend C++</p>
  </div>
</div>


---

![bg fit](assets/01_slack_10.png)

---

![bg fit](assets/01_slack_11.png)

---

![bg fit](assets/01_slack_12.png)

---

<div class="character-grid">
  <div class="character-item">
    <img src="assets/slim.png" alt="Slim">
    <h3>Slim</h3>
    <p>L1 Support</p>
  </div>
  <div class="character-item">
    <img src="assets/hopper.png" alt="Hopper">
    <h3>Hopper</h3>
    <p>Client - Goldkern Husks</p>
  </div>
  <div class="character-item">
    <img src="assets/dot.png" alt="Dot">
    <h3>Dot</h3>
    <p>Incident Manager</p>
  </div>
  <div class="character-item">
    <img src="assets/atta.png" alt="Atta">
    <h3>Atta</h3>
    <p>Product Owner</p>
  </div>
  <div class="character-item">
    <img src="assets/rosie.png" alt="Rosie">
    <h3>Rosie</h3>
    <p>UI Team Lead</p>
  </div>
  <div class="character-item">
    <img src="assets/manny.png" alt="Manny">
    <h3>Manny</h3>
    <p>SRE Team</p>
  </div>
  <div class="character-item">
    <img src="assets/heimlich.png" alt="Heimlich">
    <h3>Heimlich</h3>
    <p>Backend C++</p>
  </div>
    <div class="character-item">
    <img src="assets/flik.png" alt="Flik">
    <h3>Flik</h3>
    <p>Data Team Lead</p>
  </div>
</div>

---

![bg fit](assets/01_airflow.png)

---

![bg fit](assets/01_slack_15.png)


---

<div class="dramatic-title">
ACT II: Postmortem
</div>

---

![bg fit](assets/01_post_mortem.png)

---

# old directory structure

```bash
/data/nyse.ticker
/data/amex.ticker
/data/nasdaq.ticker
```
---

# new sharded directory structure

```
.
â””â”€â”€ data
    â”œâ”€â”€ 2025-07-23
    â”‚   â”œâ”€â”€ nyse.ticker
    â”‚   â”œâ”€â”€ nasdaq.ticker
    | . |-- kraken.ticker
    â”‚   â””â”€â”€ amex.ticker
    â”œâ”€â”€ 2025-07-24
    â”‚   â”œâ”€â”€ nyse.ticker
    â”‚   â”œâ”€â”€ nasdaq.ticker
    â”‚   â””â”€â”€ amex.ticker
    â””â”€â”€ 2025-07-25
        â”œâ”€â”€ nyse.ticker
        â”œâ”€â”€ nasdaq.ticker
        â””â”€â”€ amex.ticker
```

---
# old cron 

```python
EXCHANGES = ["nyse", "nasdaq", "amex", "kraken"]
base_path = "/data"

for ex in EXCHANGES:
    file_path = os.path.join(base_path, f"{ex}.ticker")
    if os.path.exists(file_path):
        os.remove(file_path)
```
> different code repo, claude code missed it
> `os.remove` was not getting called in new structure

---
# new cron

```python
import os

EXCHANGES = ["nyse", "nasdaq", "amex", "kraken"]
BASE_DIR = "/data"

for entry in os.listdir(BASE_DIR):
    day_dir = os.path.join(BASE_DIR, entry)
    if os.path.isdir(day_dir):
        for ex in EXCHANGES:
            file_path = os.path.join(day_dir, f"{ex}.ticker")
            try:
              os.remove(file_path)
              logging.info(f"Successfully deleted: {file_path}")
            except FileNotFoundError:
              logging.warning(f"File not found: {file_path}")
            except Exception as e:
              logging.error(f"Error deleting {file_path}: {e}")

```
> quick fix, matches new directory structure
---

![bg left:60%](assets/01_what_else_needs_patch.png)
What else needs a patch?

---
<div class="dramatic-title">
To Be Continued ...
</div>

---
![alt LSEG](assets/01_lseg.png)

# A Bug's Life

**by Tathagata Dasgupta (T)**  
Low Latency Engineering

[tathagata.dev](https://tathagata.dev)

![right width:20px](assets/01_codemash-logo.png)

---

![bg fit left:60%](assets/01_dev_sre.png)
  
---
<!-- _class: split -->

![bg fit left:50%](assets/01_front_row_seats.png)
â¡ï¸ bug is fixed 
âœ… patch deployed
ğŸ©¹ what else needs a patch? 
 
---

![bg fit left:40%](assets/01_domino.jpg)
# ğŸ©¹ What else needs a patch?
- ğŸ” Why couldn't we prevent this earlier?
- ğŸ›¡ï¸ How can we prevent this in future?

---

<style scoped>
section {
  padding: 0;
}
.timeline-year {
  position: absolute;
  bottom: 40px;
  font-size: 2.5em;
  font-weight: bold;
  color: white;
  text-shadow: 3px 3px 6px black;
}
.timeline-year.left {
  left: 25%;
  transform: translateX(-50%);
}
.timeline-year.right {
  right: 25%;
  transform: translateX(50%);
}
</style>

![bg](assets/01_back_to_the_future.jpeg)
![bg](assets/01_terminator.jpg)

<div class="timeline-year left">2015</div>
<div class="timeline-year right">2029</div>

---

| Agenda | |
|---|---|
| ğŸ› Bugs and Us | <span style="color:red;">_Who_</span> broke prod? |
| ğŸŒ Change in Landscape | <span style="color:red;">_What_</span> is changing? |
| ğŸ Shift in Mindset | <span style="color:red;">_Why_</span> change our attitude toward bugs? |
| ğŸ”„ Improve Workflow | <span style="color:red;">_How_</span> do we act on that change? |


---

| Agenda | |
|---|---|
| ğŸ› Bugs and Us | <span style="color:red;">_Who_</span> broke prod? |
| <span style="color:#ccc;">ğŸŒ Change in Landscape</span> | <span style="color:#ccc;">_What_ is changing?</span> |
| <span style="color:#ccc;">ğŸ Shift in Mindset</span> | <span style="color:#ccc;">_Why_ change our attitude toward bugs?</span> |
| <span style="color:#ccc;">ğŸ”„ Improve Workflow</span> | <span style="color:#ccc;">_How_ do we act on that change?</span> |


---
<!-- _class: split -->

# <span style="color:red;">BUGS == LOSS</span>

![bg left fit](assets/01_order_vs_got.png)
â¡ï¸ **value to the customer**


---

<!-- _class: split -->
![bg left fit](assets/01_knight_capital.png)
# <span style="color:red;">BUGS == LOSS</span>
â¡ï¸ value to the customer 
â¡ï¸ **financial**, reputation, human life


---

<!-- _class: split; -->
![bg left fit](assets/01_reputation.png)
# <span style="color:red;">BUGS == LOSS</span>
â¡ï¸ value to the customer 
â¡ï¸ financial, **reputation**, human life

---

<!-- _class: split -->
![bg left fit](assets/01_boeing.png)
# <span style="color:red;">BUGS == LOSS</span>
â¡ï¸ value to the customer 
â¡ï¸ financial, reputation, **human life**

---
<!-- _class: split -->
![bg left fit](assets/01_blame.png)
# <span style="color:red;">BUGS == BLAME</span>
â¡ï¸ value to the customer 
â¡ï¸ financial, reputation, human life
â¡ï¸ **pride, ownership, craftsmanship**

_hasn't this always been like that?_

---
| Agenda | |
|---|---|
| <span style="color:#ccc;">ğŸ› Bugs and Us</span> | <span style="color:#ccc;">_Who_ broke prod?</span> |
| ğŸŒ Change in Landscape | <span style="color:red;">_What_</span> is changing? |
| <span style="color:#ccc;">ğŸ Shift in Mindset</span> | <span style="color:#ccc;">_Why_ change our attitude toward bugs?</span> |
| <span style="color:#ccc;">ğŸ”„ Improve Workflow</span> | <span style="color:#ccc;">_How_ do we act on that change?</span> |

---

![bg vertical h:300](assets/01_anthropic.png)
![bg h:300](assets/01_meta.png)
![bg h:200](assets/01_microsoft.png)
![bg h:300](assets/01_google.png)

---
<!-- _class: split -->
![bg left fit](assets/01_vibecoding.png)
âš¡ Coding at the speed of thought
ğŸ¦¥ Debugging at the speed of sloth 


---
<!-- _class: split -->
![bg left fit](assets/karpathy.png)

> agents, subagents
prompts, contexts, memory
modes, tools, permissions
plugins, skills, hooks
MCP, LSP, slash commands
workflows, ide integration

---
<!-- _class: split -->
![bg left fit](assets/karpathy.png)

>fundamentally stochastic
unintelligible, changing entities

> intermingled with what used 
to be good old fashioned engineering

---

![bg fit](assets/01_workflow_without_bugs.png)

---

![bg fit](assets/01_workflow_with_bugs.png)

---

![bg fit](assets/01_workflow_with_ai_without_bugs.png)

---

![bg left:20% fit](assets/01_agent_gone_wild.png)
![bg right:80% fit](assets/01_replit.png)


---

| Agenda | |
|---|---|
| <span style="color:#ccc;">ğŸ› Bugs and Us</span> | <span style="color:#ccc;">_Who_ broke prod?</span> |
| <span style="color:#ccc;">ğŸŒ Change in Landscape</span> | <span style="color:#ccc;">_What_ is changing?</span> |
| ğŸ Shift in Mindset | <span style="color:red;">_Why_</span> change our attitude toward bugs? |
| <span style="color:#ccc;">ğŸ”„ Improve Workflow</span> | <span style="color:#ccc;">_How_ do we act on that change?</span> |

---

<!-- _class: split -->
![bg left fit](assets/01_pr.png)
# <span style="color:red;">BUGS == BLAME</span>
* ğŸ‘¤ the author?
* ğŸ” the reviewer?
* ğŸ’¬ the prompt?
* ğŸ¤– the model?
* ğŸ“Š the evals?
* ğŸ§© third party ai dependencies?

---

<!-- _class: split -->
![bg left:35% fit](assets/01_jump_hurdles.gif)

# <span style="color:red;">BUGS == OPPORTUNITIES</span>
* ğŸ“š Learning checkpoints, not personal failures
* ğŸ—ï¸ Opportunity to plug the gaps, stronger foundations
* ğŸ”§ Debugging as a discipline, not occasional damage control
* ğŸ›¡ Guardrails first

---
| Agenda | |
|---|---|
| <span style="color:#ccc;">ğŸ› Bugs and Us</span> | <span style="color:#ccc;">_Who_ broke prod?</span> |
| <span style="color:#ccc;">ğŸŒ Change in Landscape</span> | <span style="color:#ccc;">_What_ is changing?</span> |
| <span style="color:#ccc;">ğŸ Shift in Mindset</span> | <span style="color:#ccc;">_Why_ change our attitude toward bugs?</span> |
| ğŸ”„ Improve Workflow | <span style="color:red;">_How_</span> do we act on that change? |


---
![traditional](assets/01_traditional.png)

---

![shiftleft](assets/01_shiftleft.png)

---

![bg fit](assets/01_shift_left.png)

---

<!-- _class: split -->
![bg left fit](assets/01_shiftleft.png)
# Extreme Programming
- **Test Driven Development**
- **Pair Programming**

---
<!-- _class: split -->
![bg left:40% fit](assets/01_shiftleft.png)

## Dev Experience
- DevContainers for replicable environments
- Pre-commit/push hooks for Lint, Test, Code Quality, Security Scanning
- Versioning everything - code, infra, data, models, prompts 
- Standardized patterns and polices 
> Happy Developers = Better Software

---

![bg left:40% fit](assets/01_shiftleft.png)
## Ops Experience
- Logs, Metrics, Traces
- Dashboards for debugging
- Alerts for action
- Signals, not noise
- Periodic review of evals, alerts, thresholds
- Blue Green, Canary Deployments, Feature Flags, Synthetic Monitoring
> Customer should not be part of your monitoring stack!

---
![bg left fit](assets/01_shiftleft.png)
# Partnership 
- Empathy
- Honest Communication
- Trust
> Some bugs reside outside the codebase


---
<!-- _class: split -->
![bg left fit](assets/01_measure_to_improve.gif)
> If you can't measure it, you can't improve it.
* code coverage
* test pass rate
* cyclomatic complexity


---
## Explore DORA Metrics 
![bg left:40% fit](assets/01_not_this_dora.jpg)
<style>
.dora-table {
  width: 100%;
  border-collapse: collapse;
}

.dora-table th,
.dora-table td {
  padding: 15px;
  text-align: left;
  border-bottom: 2px #333;
}

.dora-row {
  opacity: 0;
  animation: fadeInRow 0.5s ease-in forwards;
}

.dora-row:nth-child(1) { animation-delay: 0.5s; }
.dora-row:nth-child(2) { animation-delay: 1.5s; }
.dora-row:nth-child(3) { animation-delay: 2.5s; }
.dora-row:nth-child(4) { animation-delay: 3.5s; }
.dora-row:nth-child(5) { animation-delay: 4.5s; }

@keyframes fadeInRow {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}
</style>

<table class="dora-table">
  <thead>
    <tr>
      <th><strong>Metric</strong></th>
      <th><strong>Key Question</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr class="dora-row">
      <td><strong>Deployment Frequency</strong></td>
      <td>ğŸš€ How often do we deploy to prod?</td>
    </tr>
    <tr class="dora-row">
      <td><strong>Lead Time for Changes</strong></td>
      <td>ğŸŒ What slows down our releases? </td>
    </tr>
    <tr class="dora-row">
      <td><strong>Change Failure Rate</strong></td>
      <td>ğŸ’¥ Why do our changes break things?</td>
    </tr>
    <tr class="dora-row">
      <td><strong>Time to Restore Service</strong></td>
      <td>âš¡ How quickly do we recover?</td>
    </tr>
  </tbody>
</table>
               
---

## How often are we deploying to production?
| **Metric**               | **High Performers**       | **Mid Performers**        | **Low Performers**        |
|---------------------------|---------------------------|----------------------------|----------------------------|
| **Deployment Frequency**  | Multiple times/day        | Weekly to monthly          | Less than monthly    

- ğŸ”„ Smaller changes
- âš ï¸ Lower risks
- âš¡ Faster feedback loops
- ğŸ” Product iterations

---

## Why can't we deploy more often?

<!-- _class: split -->
| **Metric**               | **High Performers**       | **Mid Performers**        | **Low Performers**        |
|---------------------------|---------------------------|----------------------------|----------------------------|
| **Lead Time for Changes** | **Hours**                | Days                       | Weeks to months            |

- ğŸ” Too many code reviews and merge conflicts?
- ğŸ¢ Slower build times & test execution?
- âœ… Too many approvals?
- ğŸ–ï¸ Too many manual steps in deployment?
- â¸ï¸ Limitations to zero downtime deployments?
- ğŸ”— Upstream dependencies and downstream impact?

---

## How often do your changes fail?

| **Metric**               | **High Performers**       | **Mid Performers**        | **Low Performers**        |
|---------------------------|---------------------------|----------------------------|----------------------------|
| **Change Failure Rate**   | **<15%**                 | 15-30%                     | >30%                       |

- ğŸ“ˆ Technical debt increasing or decreasing?
- ğŸ§ª New tests for every bug fix?
- âœ… Quality of tests adequate?
- ğŸ”º Any gaps in your testing pyramid?
- ğŸª Pre-prod environment closely reflecting to prod?
- ğŸ“Š Quality of Test data - velocity, variety, volume?

---

## How fast do you bounce back?

| **Metric**               | **High Performers**       | **Mid Performers**        | **Low Performers**        |
|---------------------------|---------------------------|----------------------------|----------------------------|
| **Time to Restore Service** | **<1 hour**             | <1 day                     | >1 day                     |

- ğŸ§  Knowledge gaps, key person risks?
- ğŸ“š Docs, runbooks, support rotation, upcoming release up to date? 
- ğŸ›¡ï¸ Team members feeling safe during a crisis?


---
<!-- _class: split -->
![bg left:40% fit](assets/goodhart.png)
# Last thing about metrics ...
* ğŸ“Š Metrics guide improvement
* ğŸš« Optimizing metrics undermines the goal
* ğŸ† Focus on outcomes, not outputs


---
<div class="dramatic-title">
Final Act
</div>

---

![bg left:60%](assets/01_what_else_needs_patch.png)
What else needs a patch?

---
<!-- _class: split -->

![bg left:60%](assets/01_postmortem_actions.png)
> Let's see this as an _opportunity_ 

> What can we do to make this a better product?

> **WHO** does **WHAT** by **WHEN**


---
# Short Term

<style>
.profile-img {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #333;
}
</style>

|**Team**| **What**                          | **Who** | **When** |
|----|-------------------------------------|---------|----------|
|SRE | Alert on 85% of disk usage              | <img src="assets/manny.png" class="profile-img"> | Next day |
|Data| Move all scripts to monorepo  | <img src="assets/flik.png" class="profile-img"> | End of the week |
|UI  | Refactoring third party lib errors         | <img src="assets/rosie.png" class="profile-img"> | End of the month |
|C++ | Update Support rotation calendar        | <img src="assets/heimlich.png" class="profile-img"> | End of the day  |


---
# Long Term

| **Team** | **Shift Left Focus**                                                                 | **DORA Metric**         |
|----------|----------------------------------------------------------------------------|-------------------------|
| SRE      | Notifications for releases with versions   | Deployment Frequency    |
| Data     | Enhance data quality in non-prod environments                        | Change Failure Rate     |
| UI       | Synthetic UI tests for post release validations                  | Time to Restore Service |
| C++      | Reduce build times by 5%                                                   | Lead Time for Changes   |

---

# A Bug's Life ğŸ›

* ğŸ”§ A bug fix is rarely a quick code change.
* ğŸ“– A bug's life is a lesson in software development.


* ğŸ©¹ _What else needs a patch_?
* ğŸ—ï¸ Is it our architecture? Our processes? Or is it us?


* ğŸš€ Technology will keep moving faster than we can keep up with.
* âš ï¸ Crisis will always be a part of software development.


* ğŸ”„ How we respond to change, will define us and our products.
* ğŸ’™ So lets be little kind to each other, and also to ourselves.



---
marp: false
theme: default
# class: invert
html: true
paginate: true
---

![bg](assets/title_slide.png)

--- 
# <span style="color:red;">Disclaimer</span>
The following narrative is a work of pure fiction.  

Any similarities to actual people, places, or events are entirely coincidental and absolutely unrelated to the systems the speaker is responsible for.


No bugs there. Trust him.


Furthermore, the speaker denies borrowing the title from a popular animated film produced by a studio with powerful lawyers.

_This statement has been notarized by the Ministry of Totally Serious Bugs._

---

<style>
@keyframes typewriter {
  from { width: 0; }
  to { width: 100%; }
}

@keyframes blink {
  50% { border-color: transparent; }
}

.dramatic-title {
  font-family: 'Courier New', Courier, monospace;
  font-weight: bold;
  font-size: 3em;
  overflow: hidden;
  border-right: 3px solid;
  white-space: nowrap;
  margin: 0 auto;
  display: inline-block;
  animation: 
    typewriter 3s steps(20) 1s forwards,
    blink 0.75s step-end infinite;
}
</style>

<div class="dramatic-title">
ACT I: The Alert
</div>

---

<!-- _class: split -->


![bg left:60%](assets/01_office.png)

# Ant Intelligence

_Ant-ificial Intelligence 
for Financial Markets_ 

<span style="font-size: 14px;">Learn more at ai.ai</span>

---

<style>
.character-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: repeat(2, 1fr);
  gap: 20px 30px;
  height: 80vh;
  align-items: center;
  justify-items: center;
}

.character-grid img {
  width: 150px;
  height: 150px;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid #333;
}

.character-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}

.character-item h3 {
  margin-top: 10px;
  margin-bottom: 5px;
  font-size: 18px;
  font-weight: bold;
}

.character-item p {
  margin: 0;
  font-size: 14px;
  color: #666;
  font-style: italic;
}
</style>


<div class="character-grid">
  <div class="character-item">
    <img src="assets/slim.png" alt="Slim">
    <h3>Slim</h3>
    <p>L1 Support</p>
  </div>
</div>

---

![bg fit](assets/01_slack_01.png)

---

<div class="character-grid">
  <div class="character-item">
    <img src="assets/slim.png" alt="Slim">
    <h3>Slim</h3>
    <p>L1 Support</p>
  </div>
  <div class="character-item">
    <img src="assets/hopper.png" alt="Hopper">
    <h3>Hopper</h3>
    <p>Client - Goldkern Husks</p>
  </div>
</div>

---

![bg fit](assets/01_slack_02.png)

---

<div class="character-grid">
  <div class="character-item">
    <img src="assets/slim.png" alt="Slim">
    <h3>Slim</h3>
    <p>L1 Support</p>
  </div>
  <div class="character-item">
    <img src="assets/hopper.png" alt="Hopper">
    <h3>Hopper</h3>
    <p>Client - Goldkern Husks</p>
  </div>
  <div class="character-item">
    <img src="assets/dot.png" alt="Dot">
    <h3>Dot</h3>
    <p>Incident Manager</p>
  </div>
</div>

---

![bg fit](assets/01_slack_03.png)

---

<div class="character-grid">
  <div class="character-item">
    <img src="assets/slim.png" alt="Slim">
    <h3>Slim</h3>
    <p>L1 Support</p>
  </div>
  <div class="character-item">
    <img src="assets/hopper.png" alt="Hopper">
    <h3>Hopper</h3>
    <p>Client - Goldkern Husks</p>
  </div>
  <div class="character-item">
    <img src="assets/dot.png" alt="Dot">
    <h3>Dot</h3>
    <p>Incident Manager</p>
  </div>
  <div class="character-item">
    <img src="assets/atta.png" alt="Atta">
    <h3>Atta</h3>
    <p>Product Owner</p>
  </div>
  <div class="character-item">
    <img src="assets/rosie.png" alt="Rosie">
    <h3>Rosie</h3>
    <p>UI Team Lead</p>
  </div>
</div>

---

![bg fit](assets/01_slack_04.png)

---
![bg fit](assets/01_slack_05.png)


---

<style>
@keyframes typewriter {
  from { width: 0; }
  to { width: 100%; }
}

@keyframes blink {
  50% { border-color: transparent; }
}

.dramatic-title {
  font-family: 'Courier New', Courier, monospace;
  font-weight: bold;
  font-size: 3em;
  overflow: hidden;
  border-right: 3px solid;
  white-space: nowrap;
  margin: 0 auto;
  display: inline-block;
  animation: 
    typewriter 3s steps(20) 1s forwards,
    blink 0.75s step-end infinite;
}
</style>

<div class="dramatic-title">
ACT II: The Hunt
</div>


---


![bg fit](assets/01_slack_07.png)

---

<div class="character-grid">
  <div class="character-item">
    <img src="assets/slim.png" alt="Slim">
    <h3>Slim</h3>
    <p>L1 Support</p>
  </div>
  <div class="character-item">
    <img src="assets/hopper.png" alt="Hopper">
    <h3>Hopper</h3>
    <p>Client - Goldkern Husks</p>
  </div>
  <div class="character-item">
    <img src="assets/dot.png" alt="Dot">
    <h3>Dot</h3>
    <p>Incident Manager</p>
  </div>
  <div class="character-item">
    <img src="assets/atta.png" alt="Atta">
    <h3>Atta</h3>
    <p>Product Owner</p>
  </div>
  <div class="character-item">
    <img src="assets/rosie.png" alt="Rosie">
    <h3>Rosie</h3>
    <p>UI Team Lead</p>
  </div>
  <div class="character-item">
    <img src="assets/manny.png" alt="Manny">
    <h3>Manny</h3>
    <p>SRE Team</p>
  </div>
</div>

---
![bg fit](assets/01_slack_08.png)

---

![bg fit](assets/01_slack_09.png)

---

<div class="character-grid">
  <div class="character-item">
    <img src="assets/slim.png" alt="Slim">
    <h3>Slim</h3>
    <p>L1 Support</p>
  </div>
  <div class="character-item">
    <img src="assets/hopper.png" alt="Hopper">
    <h3>Hopper</h3>
    <p>Client - Goldkern Husks</p>
  </div>
  <div class="character-item">
    <img src="assets/dot.png" alt="Dot">
    <h3>Dot</h3>
    <p>Incident Manager</p>
  </div>
  <div class="character-item">
    <img src="assets/atta.png" alt="Atta">
    <h3>Atta</h3>
    <p>Product Owner</p>
  </div>
  <div class="character-item">
    <img src="assets/rosie.png" alt="Rosie">
    <h3>Rosie</h3>
    <p>UI Team Lead</p>
  </div>
  <div class="character-item">
    <img src="assets/manny.png" alt="Manny">
    <h3>Manny</h3>
    <p>SRE Team</p>
  </div>
  <div class="character-item">
    <img src="assets/heimlich.png" alt="Heimlich">
    <h3>Heimlich</h3>
    <p>Backend C++</p>
  </div>
</div>


---

![bg fit](assets/01_slack_10.png)

---

![bg fit](assets/01_slack_11.png)

---

![bg fit](assets/01_slack_12.png)

---
<style>
@keyframes typewriter {
  from { width: 0; }
  to { width: 100%; }
}

@keyframes blink {
  50% { border-color: transparent; }
}

.dramatic-title {
  font-family: 'Courier New', Courier, monospace;
  font-weight: bold;
  font-size: 3em;
  overflow: hidden;
  border-right: 3px solid;
  white-space: nowrap;
  margin: 0 auto;
  display: inline-block;
  animation: 
    typewriter 3s steps(20) 1s forwards,
    blink 0.75s step-end infinite;
}
</style>

<div class="dramatic-title">
ACT III: The Fix
</div>


---

<div class="character-grid">
  <div class="character-item">
    <img src="assets/slim.png" alt="Slim">
    <h3>Slim</h3>
    <p>L1 Support</p>
  </div>
  <div class="character-item">
    <img src="assets/hopper.png" alt="Hopper">
    <h3>Hopper</h3>
    <p>Client - Goldkern Husks</p>
  </div>
  <div class="character-item">
    <img src="assets/dot.png" alt="Dot">
    <h3>Dot</h3>
    <p>Incident Manager</p>
  </div>
  <div class="character-item">
    <img src="assets/atta.png" alt="Atta">
    <h3>Atta</h3>
    <p>Product Owner</p>
  </div>
  <div class="character-item">
    <img src="assets/rosie.png" alt="Rosie">
    <h3>Rosie</h3>
    <p>UI Team Lead</p>
  </div>
  <div class="character-item">
    <img src="assets/manny.png" alt="Manny">
    <h3>Manny</h3>
    <p>SRE Team</p>
  </div>
  <div class="character-item">
    <img src="assets/heimlich.png" alt="Heimlich">
    <h3>Heimlich</h3>
    <p>Backend C++</p>
  </div>
    <div class="character-item">
    <img src="assets/flik.png" alt="Flik">
    <h3>Flik</h3>
    <p>Data Team Lead</p>
  </div>
</div>

---

![bg fit](assets/01_airflow.png)

---

![bg fit](assets/01_slack_15.png)


---

<div class="dramatic-title">
ACT III: Postmortem
</div>

---

![bg fit](assets/01_post_mortem.png)

---

# old directory structure

```bash
/data/nyse.ticker
/data/amex.ticker
/data/nasdaq.ticker
```
---

# new sharded directory structure

```
.
‚îî‚îÄ‚îÄ data
    ‚îú‚îÄ‚îÄ 2025-07-23
    ‚îÇ   ‚îú‚îÄ‚îÄ nyse.ticker
    ‚îÇ   ‚îú‚îÄ‚îÄ nasdaq.ticker
    | . |-- kraken.ticker
    ‚îÇ   ‚îî‚îÄ‚îÄ amex.ticker
    ‚îú‚îÄ‚îÄ 2025-07-24
    ‚îÇ   ‚îú‚îÄ‚îÄ nyse.ticker
    ‚îÇ   ‚îú‚îÄ‚îÄ nasdaq.ticker
    ‚îÇ   ‚îî‚îÄ‚îÄ amex.ticker
    ‚îî‚îÄ‚îÄ 2025-07-25
        ‚îú‚îÄ‚îÄ nyse.ticker
        ‚îú‚îÄ‚îÄ nasdaq.ticker
        ‚îî‚îÄ‚îÄ amex.ticker
```

---
# old cron 

```python
EXCHANGES = ["nyse", "nasdaq", "amex", "kraken"]
base_path = "/data"

for ex in EXCHANGES:
    file_path = os.path.join(base_path, f"{ex}.ticker")
    if os.path.exists(file_path):
        os.remove(file_path)
```
> different code repo, claude code missed it
> `os.remove` silently fails if file is not there

---
# new cron

```python
import os

EXCHANGES = ["nyse", "nasdaq", "amex", "kraken"]
BASE_DIR = "/data"

for entry in os.listdir(BASE_DIR):
    day_dir = os.path.join(BASE_DIR, entry)
    if os.path.isdir(day_dir):
        for ex in EXCHANGES:
            file_path = os.path.join(day_dir, f"{ex}.ticker")
            if os.path.exists(file_path):
                os.remove(file_path)
                print(f"Deleted: {file_path}")

```
> quick fix, matches new directory structure
---

![bg fit](assets/01_what_else_needs_patch.png)


---
<div class="dramatic-title">
To Be Continued ...
</div>

---

![alt text](assets/01_lseg.png)
# A Bug's Life
by Tathagata Dasgupta (T)
Low Latency Engineering

---

![bg fit left:60%](assets/01_dev_sre.png)
  

---
<!-- _class: split -->

![bg fit left:50%](assets/01_front_row_seats.png)
‚úÖ Patch deployed ‚û°Ô∏è bug is fixed


---
![bg fit left:50%](assets/01_front_row_seats.png)
                ‚û°Ô∏è What else needs a patch?
                 

---

* üåç Change in Landscape  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color:red;">_What_</span> is changing?  
* üêû Change in Attitude   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color:red;">_Why_</span> change our attitude toward bugs?  
* üîÑ Change in Workflow  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:red;">_How_</span> do we act on that change?



---

# üêû Change in Landscape
<span style="color:red;">_What_</span> is changing?


---
<!-- _class: split -->

# <span style="color:red;">BUGS == LOSS</span>

![bg left fit](assets/01_order_vs_got.png)
‚û°Ô∏è **value to the customer**


---

<!-- _class: split -->
![bg left fit](assets/01_knight_capital.png)
# <span style="color:red;">BUGS == LOSS</span>
‚û°Ô∏è value to the customer 
‚û°Ô∏è **financial**, reputation, human life


---

<!-- _class: split; -->
![bg left fit](assets/01_reputation.png)
# <span style="color:red;">BUGS == LOSS</span>
‚û°Ô∏è value to the customer 
‚û°Ô∏è financial, **reputation**, human life

---

<!-- _class: split -->
![bg left fit](assets/01_boeing.png)
# <span style="color:red;">BUGS == LOSS</span>
‚û°Ô∏è value to the customer 
‚û°Ô∏è financial, reputation, **human life**

---
<!-- _class: split -->
![bg left fit](assets/01_blame.png)
# <span style="color:red;">BUGS == BLAME</span>
‚û°Ô∏è value to the customer 
‚û°Ô∏è financial, reputation, human life
‚û°Ô∏è **pride, ownership, craftsmanship**

_hasn't this always been like that?_

---

![bg vertical h:300](assets/01_anthropic.png)
![bg h:300](assets/01_meta.png)
![bg h:200](assets/01_microsoft.png)
![bg h:300](assets/01_google.png)

---
<!-- _class: split -->
![bg left fit](assets/01_vibecoding.png)
‚ö° Coding at the speed of thought
ü¶• Debugging at the speed of sloth 


---
<!-- _class: split -->
![bg left fit](assets/karpathy.png)

> agents, subagents
prompts, contexts, memory
modes, tools, permissions
plugins, skills, hooks
MCP, LSP, slash commands
workflows, ide integration

---
<!-- _class: split -->
![bg left fit](assets/karpathy.png)

>fundamentally stochastic
unintelligible, changing entities

> intermingled with what used 
to be good old fashioned engineering

---

![bg fit](assets/01_workflow_without_bugs.png)

---

![bg fit](assets/01_workflow_with_bugs.png)

---

![bg fit](assets/01_workflow_with_ai_without_bugs.png)

---

![bg left:20% fit](assets/01_agent_gone_wild.png)
![bg right:80% fit](assets/01_replit.png)


---

üåç Change in Landscape
üêû Change in Attitude

---

<!-- _class: split -->
![bg left fit](assets/01_pr.png)
# <span style="color:red;">BUGS == BLAME</span>
* üë§ the author?
* üîç the reviewer?
* üí¨ the prompt?
* ü§ñ the model?
* üìä the evals?
* üß© third party ai dependencies?

---

<!-- _class: split -->
<!-- ![bg left:40% fit](assets/01_pipe_fail.gif) -->

# <span style="color:red;">BUGS == OPPORTUNITIES</span>
- üìö Learning checkpoints, not personal failures
- üèóÔ∏è Opportunity to plug the gaps, stronger foundations
- üîß Debugging as a discipline, not occasional damage control
- üõ° Guardrails first

---

<!-- _class: split -->
![bg fit](assets/01_shift_left.png)

---

![traditional](assets/01_traditional.png)

---

![shiftleft](assets/01_shiftleft.png)

---
<!-- _class: split -->
![bg left fit](assets/01_shiftleft.png)
# Sounds familiar?
- **Test Driven Development**
- **Pair Programming**

---
<!-- _class: split -->
![bg left fit](assets/01_shiftleft.png)
# Deployments
- Blue Green, Canary
- Synthetic Monitoring
- Feature Flags
- Chaos Engineering
---
<!-- _class: split -->
![bg left fit](assets/01_shiftleft.png)
# Observability
> Customer should not be part of your monitoring stack!
- Logs, Metrics, Traces
- Dashboards for debugging
- Alerts for action
- Signals, not noise
- Periodic reviews of evals, alerts, thresholds

---

![bg left fit](assets/01_shiftleft.png)
# Dev Experience
> Happy devs ship better code 
- DevContainers for replicable environments
- Pre-commit/push hooks for Lint, Test, Code Quality, Security Scanning
- Versioning everything - code, infra, data, models, prompts 
- Standardized patterns and polices through internal developer platform 

---

üîÑ Change Workflows  &nbsp;&nbsp;&nbsp;&nbsp; <span style="color:red;">_What_</span> needs to change? 

---
<!-- _class: split -->
![bg left fit](assets/01_gaming_metrics.png)
> If you can't measure it, you can't improve it.
* code coverage
* test pass rate
* cyclomatic complexity

---

# Yet more metrics
<!-- _class: split -->
![bg left fit](assets/dora-swiper.gif)
DORA
DevOps Research and Assessment 

---
## DORA Metrics: What to Ask

<style>
.dora-table {
  width: 100%;
  border-collapse: collapse;
}

.dora-table th,
.dora-table td {
  padding: 15px;
  text-align: left;
  border-bottom: 2px #333;
}

.dora-row {
  opacity: 0;
  animation: fadeInRow 0.5s ease-in forwards;
}

.dora-row:nth-child(1) { animation-delay: 0.5s; }
.dora-row:nth-child(2) { animation-delay: 1.5s; }
.dora-row:nth-child(3) { animation-delay: 2.5s; }
.dora-row:nth-child(4) { animation-delay: 3.5s; }
.dora-row:nth-child(5) { animation-delay: 4.5s; }

@keyframes fadeInRow {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}
</style>

<table class="dora-table">
  <thead>
    <tr>
      <th><strong>Metric</strong></th>
      <th><strong>Key Question</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr class="dora-row">
      <td><strong>Deployment Frequency</strong></td>
      <td>üöÄ</td>
    </tr>
    <tr class="dora-row">
      <td><strong>Lead Time for Changes</strong></td>
      <td>üêå</td>
    </tr>
    <tr class="dora-row">
      <td><strong>Change Failure Rate</strong></td>
      <td>üí•</td>
    </tr>
    <tr class="dora-row">
      <td><strong>Time to Restore Service</strong></td>
      <td>‚ö°</td>
    </tr>
    <tr class="dora-row">
      <td><strong>Reliability</strong></td>
      <td>üõ°Ô∏è</td>
    </tr>
  </tbody>
</table>



---

## Why can't you deploy more often?
<!-- _class: split -->
| **Metric**               | **High Performers**       | **Mid Performers**        | **Low Performers**        |
|---------------------------|---------------------------|----------------------------|----------------------------|
| **Lead Time for Changes** | **Hours**                | Days                       | Weeks to months            |

> Too many code reviews?
> Slow build times?
> Slow test execution?
> Too many manual steps?
> Too many approvals?
> Limitations to zero downtime deployments?
> Upstream dependencies and downstream impact?

---

## How often do your changes fail?

| **Metric**               | **High Performers**       | **Mid Performers**        | **Low Performers**        |
|---------------------------|---------------------------|----------------------------|----------------------------|
| **Change Failure Rate**   | **<15%**                 | 15-30%                     | >30%                       |
> Technical debt with brittle areas in the code base that need refactoring?
> Are there gaps in your testing pyramid?
> Are new tests getting added for every bug fix?
> Are regression tests flaky?
> Does your pre-prod environment mirror production?
> Quality of Test data - velocity, variety, volume?


---

## How fast do you bounce back?

| **Metric**               | **High Performers**       | **Mid Performers**        | **Low Performers**        |
|---------------------------|---------------------------|----------------------------|----------------------------|
| **Time to Restore Service** | **<1 hour**             | <1 day                     | >1 day                     |
> Are the Alert Quality and Volume good enough? 
> Are your runbooks, support rotation, upcoming release pages up to date? 
> Are there knowledge and access control gaps in your team? 
> Are the team members feeling safe during a crisis? 
> Are there back up plan when the key people are unavailable?

---
## DORA
| **Metric**               | **High Performers**       | **Mid Performers**        | **Low Performers**        |
|---------------------------|---------------------------|----------------------------|----------------------------|
| **Deployment Frequency**  | Multiple times/day        | Weekly to monthly          | Less than monthly          |
| **Lead Time for Changes** | Hours                    | Days                       | Weeks to months            |
| **Change Failure Rate**   | <15%                     | 15-30%                     | >30%                       |
| **Time to Restore Service** | <1 hour                 | <1 day                     | >1 day                     |

---
## DORA Metrics: What to Ask

| **Metric**                 | **Key Question**                  |
|----------------------------|-----------------------------------|
| **Deployment Frequency**   | How often do we deploy to prod?   |
| **Lead Time for Changes**  | What slows down our releases?     |
| **Change Failure Rate**    | Why do our changes break things?  |
| **Time to Restore Service**| How quickly do we recover?        |

---
<!-- _class: split -->
![bg left fit](assets/goodhart.png)
# Goodhart's Law
* Focus on outcomes, not outputs
* Metrics guide improvement, they don't define success

---

---
![bg left fit](assets/01_shiftleft.png)
# Partnership 
> bugs that happen before the code
- Empathy
- Honest Communication
- Trust

---
<!-- _class: split -->

![bg left:60%](assets/01_office.png)

---

# Postmortem Action Items

**WHO** does **WHAT** by **WHEN**

---

<div class="character-grid">
  <div class="character-item">
    <img src="assets/slim.png" alt="Slim">
    <h3>Slim</h3>
    <p>L1 Support</p>
  </div>
  <div class="character-item">
    <img src="assets/dot.png" alt="Dot">
    <h3>Dot</h3>
    <p>Incident Manager</p>
  </div>
  <div class="character-item">
    <img src="assets/atta.png" alt="Atta">
    <h3>Atta</h3>
    <p>Product Owner</p>
  </div>
  <div class="character-item">
    <img src="assets/rosie.png" alt="Rosie">
    <h3>Rosie</h3>
    <p>UI Team Lead</p>
  </div>
  <div class="character-item">
    <img src="assets/manny.png" alt="Manny">
    <h3>Manny</h3>
    <p>SRE Team</p>
  </div>
  <div class="character-item">
    <img src="assets/heimlich.png" alt="Heimlich">
    <h3>Heimlich</h3>
    <p>Backend C++</p>
  </div>
    <div class="character-item">
    <img src="assets/flik.png" alt="Flik">
    <h3>Flik</h3>
    <p>Data Team Lead</p>
  </div>
</div>


---
# Short Term

<style>
.profile-img {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #333;
}
</style>

|**Team**| **What**                          | **Who** |
|----|-------------------------------------|---------|
|SRE | Alert on 85% of disk usage & Runbook update             | <img src="assets/manny.png" class="profile-img"> |
|Data| Add tests and error handling, move purger job to Airflow  | <img src="assets/flik.png" class="profile-img"> |
|UI  | Improve Signal to Noise ratio, refactoring third party lib errors         | <img src="assets/rosie.png" class="profile-img"> |
|C++ | Update Support rotation calendar, ensure secondary support person        | <img src="assets/heimlich.png" class="profile-img"> |


---
# Long Term

| **Team** | **Focus**                                                                 | **DORA Metric**         |
|----------|----------------------------------------------------------------------------|-------------------------|
| SRE      | Notifications for releases and drift detection to keep everyone informed   | Deployment Frequency    |
| C++      | Reduce build times by 5%                                                   | Lead Time for Changes   |
| Data     | Enhance data quality in non-production environments                        | Change Failure Rate     |
| UI       | Implement synthetic UI tests for post release validations                  | Time to Restore Service |

---

# A Bug's Life

A bug fix is rarely a quick code change.
A bug's life is a lesson in software development.

_What else needs a patch_?
Is it our architecture? Our processes? Or is it us?

Technology will keep moving faster than we can keep up with.
Crisis will always be a part of software development.

How we respond to change, will define us and our products.
So lets be little kind to each other, and also to ourselves.

